SELECT SCHEDULE.TIME+SCHEDULE.DAY+SCHEDULE.OEW AS TIME,
RTRIM(COURSES.COURSENAME)+':'+SCHEDULE.COURSENO+SCHEDULE.[GROUP]+'('+RTRIM(CLASSROOMS.JSN)+')' AS COURSE,
SCHEDULE.COURSENO AS COURSENO,
SCHEDULE.[GROUP] AS COURSEGROUP,
SCHEDULE.WEEKS AS WEEKS,
TASKOPTIONS.NAME AS TASK
FROM SCHEDULE JOIN COURSES ON SCHEDULE.COURSENO=COURSES.COURSENO
JOIN TEACHERPLAN ON SCHEDULE.MAP=TEACHERPLAN.RECNO
JOIN CLASSROOMS ON SCHEDULE.ROOMNO=CLASSROOMS.ROOMNO
LEFT OUTER JOIN TASKOPTIONS ON TEACHERPLAN.TASK=TASKOPTIONS.CODE
WHERE TEACHERPLAN.TEACHERNO =:teacherno
AND SCHEDULE.YEAR=:year
AND SCHEDULE.TERM=:term

