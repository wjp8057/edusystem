select count(*) AS ROWS from(SELECT row_number() over(
ORDER BY SCHOOLS.SCHOOL,STUDENTS.STUDENTNO, SCORES.YEAR, SCORES.TERM, SCORES.COURSENO + SCORES.[GROUP]) as row,
SCHOOLS.SCHOOL xydh, SCHOOLS.NAME szxy, STUDENTS.STUDENTNO xh,
      STUDENTS.NAME AS xm, SCORES.YEAR xn, SCORES.TERM  xq,
      SCORES.COURSENO + SCORES.[GROUP] AS kh, COURSES.coursename kcmc,
      courses.credits xf,
      SCORES.EXAMSCORE kscj, SCORES.TESTSCORE kccj,
COURSEAPPROACHES.VALUE kclb,  TESTCODE.NAME AS khfs
FROM SCORES INNER JOIN
      COURSES ON SCORES.COURSENO = COURSES.COURSENO INNER JOIN
      TESTCODE ON SCORES.TESTTYPE = TESTCODE.CODE INNER JOIN
      STUDENTS ON SCORES.STUDENTNO = STUDENTS.STUDENTNO INNER JOIN
      COURSEAPPROACHES ON
      SCORES.PLANTYPE = COURSEAPPROACHES.NAME INNER JOIN
      SCHOOLS ON STUDENTS.SCHOOL = SCHOOLS.SCHOOL
WHERE COURSEAPPROACHES.VALUE = '辅修' and year like :year and cast(term as char(2)) like :term
and SCORES.STUDENTNO like :studentno
) as b