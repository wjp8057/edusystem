select count(*) as ROWS from(SELECT  row_number() over(order by SCHOOLS.SCHOOL) as row,SCHOOLS.SCHOOL xydh,
SCHOOLS.NAME  kkxy,COURSETYPEOPTIONS.VALUE  kclx, SUM(SCHEDULEPLAN.ATTENDENTS) AS xkzrs
FROM COURSES INNER JOIN
      SCHEDULEPLAN ON
      COURSES.COURSENO = SCHEDULEPLAN.COURSENO INNER JOIN
      COURSETYPEOPTIONS ON
      COURSES.TYPE = COURSETYPEOPTIONS.NAME INNER JOIN
      SCHOOLS ON COURSES.SCHOOL = SCHOOLS.SCHOOL
WHERE (SCHEDULEPLAN.YEAR = :YEAR) AND (SCHEDULEPLAN.TERM =:TERM) and SCHOOLS.school like :SCHOOL
GROUP BY COURSETYPEOPTIONS.VALUE, SCHOOLS.NAME,SCHOOLS.SCHOOL
) as b